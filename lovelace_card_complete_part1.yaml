type: vertical-stack
cards:
  - type: custom:mushroom-title-card
    title: Pioneer AVR
    subtitle: Amplificateur Audio/VidÃ©o
  - type: horizontal-stack
    cards:
      - type: custom:mushroom-entity-card
        entity: media_player.pioneer_avr
        name: Alimentation
        icon: mdi:power
        tap_action:
          action: toggle
        hold_action:
          action: more-info
        card_mod:
          style: |
            ha-card {
              background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
              border-radius: 20px;
              box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('media_player.pioneer_avr') | title }}"
        secondary: >-
          {{ state_attr('media_player.pioneer_avr', 'source') | default('Aucune source') }}
        icon: mdi:speaker
        icon_color: |
          {% if is_state('media_player.pioneer_avr', 'on') %}
            green
          {% else %}
            red
          {% endif %}
        card_mod:
          style: |
            ha-card {
              background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
              border-radius: 20px;
              box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            }
  - type: custom:mushroom-media-player-card
    entity: media_player.pioneer_avr
    use_media_info: false
    use_media_artwork: false
    show_volume_level: true
    volume_controls:
      - volume_mute
      - volume_set
      - volume_buttons
    card_mod:
      style: |
        ha-card {
          background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
          border-radius: 20px;
          box-shadow: 0 8px 16px rgba(0,0,0,0.3);
          padding: 16px;
        }
  - type: custom:mushroom-title-card
    title: ðŸŽµ Sources Audio
  - type: grid
    columns: 5
    square: false
    cards:
      - type: custom:button-card
        entity: media_player.pioneer_avr
        name: CD
        icon: mdi:disc-player
        tap_action:
          action: call-service
          service: media_player.select_source
          service_data:
            entity_id: media_player.pioneer_avr
            source: CD
        state:
          - operator: template
            value: |
              [[[
                return states['media_player.pioneer_avr'].attributes.source === 'CD';
              ]]]
            styles:
              card:
                - background: "linear-gradient(135deg, #a855f7 0%, #ec4899 100%)"
                - box-shadow: 0 8px 16px rgba(168, 85, 247, 0.4)
                - transform: scale(1.05)
        styles:
          card:
            - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
            - border-radius: 20px
            - transition: all 0.3s ease
          name:
            - color: white
            - font-weight: bold
            - font-size: 14px
          icon:
            - color: white
            - width: 32px
      - type: custom:button-card
        entity: media_player.pioneer_avr
        name: Tuner
        icon: mdi:radio
        tap_action:
          action: call-service
          service: media_player.select_source
          service_data:
            entity_id: media_player.pioneer_avr
            source: Tuner
        state:
          - operator: template
            value: |
              [[[
                return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
              ]]]
            styles:
              card:
                - background: "linear-gradient(135deg, #eab308 0%, #f97316 100%)"
                - box-shadow: 0 8px 16px rgba(234, 179, 8, 0.4)
                - transform: scale(1.05)
        styles:
          card:
            - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
            - border-radius: 20px
            - transition: all 0.3s ease
          name:
            - color: white
            - font-weight: bold
            - font-size: 14px
          icon:
            - color: white
            - width: 32px
      - type: custom:button-card
        entity: media_player.pioneer_avr
        name: Phono
        icon: mdi:album
        tap_action:
          action: call-service
          service: media_player.select_source
          service_data:
            entity_id: media_player.pioneer_avr
            source: Phono
        state:
          - operator: template
            value: |
              [[[
                return states['media_player.pioneer_avr'].attributes.source === 'Phono';
              ]]]
            styles:
              card:
                - background: "linear-gradient(135deg, #f43f5e 0%, #dc2626 100%)"
                - box-shadow: 0 8px 16px rgba(244, 63, 94, 0.4)
                - transform: scale(1.05)
        styles:
          card:
            - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
            - border-radius: 20px
            - transition: all 0.3s ease
          name:
            - color: white
            - font-weight: bold
            - font-size: 14px
          icon:
            - color: white
            - width: 32px
      - type: custom:button-card
        entity: media_player.pioneer_avr
        name: iPod/USB
        icon: mdi:usb
        tap_action:
          action: call-service
          service: media_player.select_source
          service_data:
            entity_id: media_player.pioneer_avr
            source: iPod/USB
        state:
          - operator: template
            value: |
              [[[
                return states['media_player.pioneer_avr'].attributes.source === 'iPod/USB';
              ]]]
            styles:
              card:
                - background: "linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)"
                - box-shadow: 0 8px 16px rgba(139, 92, 246, 0.4)
                - transform: scale(1.05)
        styles:
          card:
            - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
            - border-radius: 20px
            - transition: all 0.3s ease
          name:
            - color: white
            - font-weight: bold
            - font-size: 14px
          icon:
            - color: white
            - width: 32px
      - type: custom:button-card
        entity: media_player.pioneer_avr
        name: Bluetooth
        icon: mdi:bluetooth
        tap_action:
          action: call-service
          service: media_player.select_source
          service_data:
            entity_id: media_player.pioneer_avr
            source: Bluetooth
        state:
          - operator: template
            value: |
              [[[
                return states['media_player.pioneer_avr'].attributes.source === 'Bluetooth';
              ]]]
            styles:
              card:
                - background: "linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%)"
                - box-shadow: 0 8px 16px rgba(6, 182, 212, 0.4)
                - transform: scale(1.05)
        styles:
          card:
            - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
            - border-radius: 20px
            - transition: all 0.3s ease
          name:
            - color: white
            - font-weight: bold
            - font-size: 14px
          icon:
            - color: white
            - width: 32px