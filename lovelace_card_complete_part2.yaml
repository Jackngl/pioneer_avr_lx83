  - type: vertical-stack
    cards:
      - type: custom:mushroom-title-card
        title: üìª Stations FM
        subtitle: >
          ‚ö†Ô∏è IMPORTANT: La source doit √™tre sur TUNER pour utiliser les presets
          (01TP-08TP),  la navigation (TPD/TPI) et les fr√©quences (TFI/TFD).
          Sinon erreur E04.
      - type: grid
        columns: 4
        square: false
        cards:
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 1
            icon: mdi:numeric-1-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 01TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #f59e0b 0%, #f97316 100%)"
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(245, 158, 11, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 2
            icon: mdi:numeric-2-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 02TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #f59e0b 0%, #f97316 100%)"
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(245, 158, 11, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 3
            icon: mdi:numeric-3-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 03TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #f59e0b 0%, #f97316 100%)"
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(245, 158, 11, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 4
            icon: mdi:numeric-4-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 04TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #f59e0b 0%, #f97316 100%)"
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(245, 158, 11, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 5
            icon: mdi:numeric-5-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 05TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #10b981 0%, #059669 100%)"
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 6
            icon: mdi:numeric-6-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 06TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #10b981 0%, #059669 100%)"
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 7
            icon: mdi:numeric-7-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 07TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #10b981 0%, #059669 100%)"
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Preset 8
            icon: mdi:numeric-8-circle
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: 08TP
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #10b981 0%, #059669 100%)"
                - border-radius: 16px
                - transition: all 0.3s ease
                - box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3)
              name:
                - color: white
                - font-weight: bold
                - font-size: 13px
              icon:
                - color: white
                - width: 28px
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: ‚óÄ Pr√©c√©dent
            icon: mdi:skip-previous
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: TPD
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"
                - border-radius: 16px
                - padding: 12px
              name:
                - color: white
                - font-weight: bold
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Suivant ‚ñ∂
            icon: mdi:skip-next
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: TPI
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"
                - border-radius: 16px
                - padding: 12px
              name:
                - color: white
                - font-weight: bold
              icon:
                - color: white
                - width: 28px
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Fr√©quence +
            icon: mdi:arrow-up
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: TFI
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)"
                - border-radius: 16px
                - padding: 12px
              name:
                - color: white
                - font-weight: bold
              icon:
                - color: white
                - width: 28px
          - type: custom:button-card
            entity: media_player.pioneer_avr
            name: Fr√©quence -
            icon: mdi:arrow-down
            tap_action:
              action: call-service
              service: pioneer_avr_lx83.send_raw_command
              service_data:
                entity_id: media_player.pioneer_avr
                command: TFD
            state:
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source === 'Tuner';
                  ]]]
                styles:
                  card:
                    - opacity: 1
              - operator: template
                value: |
                  [[[
                    return states['media_player.pioneer_avr'].attributes.source !== 'Tuner';
                  ]]]
                styles:
                  card:
                    - background: "linear-gradient(135deg, #475569 0%, #334155 100%)"
                    - opacity: 0.5
                    - cursor: not-allowed
            styles:
              card:
                - background: "linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%)"
                - border-radius: 16px
                - padding: 12px
              name:
                - color: white
                - font-weight: bold
              icon:
                - color: white
                - width: 28px